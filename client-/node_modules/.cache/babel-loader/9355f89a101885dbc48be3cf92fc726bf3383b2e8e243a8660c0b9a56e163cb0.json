{"ast":null,"code":"import \"core-js/modules/web.url-search-params.delete.js\";\nimport \"core-js/modules/web.url-search-params.has.js\";\nimport \"core-js/modules/web.url-search-params.size.js\";\nexport default {\n  data() {\n    return {\n      status: null,\n      result: null,\n      resultImageURL: null,\n      imageFile: null\n    };\n  },\n  computed: {\n    imageFileURL() {\n      return URL.createObjectURL(this.imageFile);\n    }\n  },\n  methods: {\n    handleImageUpload(event) {\n      this.status = null;\n      this.result = null;\n      this.resultImageURL = null;\n      const input = event.target;\n      this.imageFile = input.files[0];\n    },\n    async uploadAndSubmit() {\n      if (!this.imageFile) {\n        this.status = \"Please select an image file.\";\n        return;\n      }\n      const reader = new FileReader();\n      reader.onloadend = async () => {\n        try {\n          const formData = new FormData();\n          formData.append(\"image\", reader.result);\n          const response = await fetch(\"http://127.0.0.1:5000/\", {\n            method: \"POST\",\n            body: formData\n          });\n          if (response.ok) {\n            this.status = \"Image upload successful!\";\n            const resultData = await response.json();\n            this.result = resultData;\n            this.drawLandmarks();\n          } else {\n            this.status = \"Image upload failed. Please try again.\";\n          }\n        } catch (error) {\n          console.error(\"Error uploading image:\", error);\n          this.status = \"Image upload failed. Please try again.\";\n        }\n      };\n      reader.readAsDataURL(this.imageFile);\n    }\n    // ... (other methods)\n  }\n};","map":{"version":3,"names":["data","status","result","resultImageURL","imageFile","computed","imageFileURL","URL","createObjectURL","methods","handleImageUpload","event","input","target","files","uploadAndSubmit","reader","FileReader","onloadend","formData","FormData","append","response","fetch","method","body","ok","resultData","json","drawLandmarks","error","console","readAsDataURL"],"sources":["/home/waseem/experiments/waseem-example-fullstack/client-/src/App.vue"],"sourcesContent":["<template>\n  <div id=\"facial-landmark-detection\">\n    <!-- ... (other template code) -->\n\n    <main>\n      <div class=\"green-layer\">\n        <table>\n          <tr>\n            <td>\n              <div class=\"image-box-short\">\n                <img v-if=\"imageFile\" :src=\"imageFileURL\" alt=\"Uploaded Image\" />\n              </div>\n              <!-- Use a single button for both upload and submit -->\n              <input type=\"file\" accept=\".jpg\" @change=\"handleImageUpload\" />\n              <button @click=\"uploadAndSubmit\">Upload & Submit</button>\n            </td>\n            <!-- ... (other table cells) -->\n          </tr>\n        </table>\n\n        <div v-if=\"status !== null\" class=\"status\">\n          {{ status }}\n        </div>\n\n        <button v-if=\"result\" @click=\"showResult\">Show Result</button>\n\n        <canvas v-if=\"result\" ref=\"outputCanvas\" width=\"400\" height=\"300\"></canvas>\n        <img v-if=\"resultImageURL\" :src=\"resultImageURL\" alt=\"Result Image\" />\n      </div>\n    </main>\n\n    <!-- ... (other template code) -->\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      status: null,\n      result: null,\n      resultImageURL: null,\n      imageFile: null,\n    };\n  },\n  computed: {\n    imageFileURL() {\n      return URL.createObjectURL(this.imageFile);\n    },\n  },\n  methods: {\n    handleImageUpload(event) {\n      this.status = null;\n      this.result = null;\n      this.resultImageURL = null;\n      const input = event.target;\n      this.imageFile = input.files[0];\n    },\n    async uploadAndSubmit() {\n      if (!this.imageFile) {\n        this.status = \"Please select an image file.\";\n        return;\n      }\n\n      const reader = new FileReader();\n      reader.onloadend = async () => {\n        try {\n          const formData = new FormData();\n          formData.append(\"image\", reader.result);\n\n          const response = await fetch(\"http://127.0.0.1:5000/\", {\n            method: \"POST\",\n            body: formData,\n          });\n\n          if (response.ok) {\n            this.status = \"Image upload successful!\";\n            const resultData = await response.json();\n            this.result = resultData;\n            this.drawLandmarks();\n          } else {\n            this.status = \"Image upload failed. Please try again.\";\n          }\n        } catch (error) {\n          console.error(\"Error uploading image:\", error);\n          this.status = \"Image upload failed. Please try again.\";\n        }\n      };\n      reader.readAsDataURL(this.imageFile);\n    },\n    // ... (other methods)\n  },\n};\n</script>\n\n<style>\n/* ... (your existing styles) */\n</style>"],"mappings":";;;AAoCA,eAAe;EACbA,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,MAAM,EAAE,IAAI;MACZC,MAAM,EAAE,IAAI;MACZC,cAAc,EAAE,IAAI;MACpBC,SAAS,EAAE;IACb,CAAC;EACH,CAAC;EACDC,QAAQ,EAAE;IACRC,YAAYA,CAAA,EAAG;MACb,OAAOC,GAAG,CAACC,eAAe,CAAC,IAAI,CAACJ,SAAS,CAAC;IAC5C;EACF,CAAC;EACDK,OAAO,EAAE;IACPC,iBAAiBA,CAACC,KAAK,EAAE;MACvB,IAAI,CAACV,MAAK,GAAI,IAAI;MAClB,IAAI,CAACC,MAAK,GAAI,IAAI;MAClB,IAAI,CAACC,cAAa,GAAI,IAAI;MAC1B,MAAMS,KAAI,GAAID,KAAK,CAACE,MAAM;MAC1B,IAAI,CAACT,SAAQ,GAAIQ,KAAK,CAACE,KAAK,CAAC,CAAC,CAAC;IACjC,CAAC;IACD,MAAMC,eAAeA,CAAA,EAAG;MACtB,IAAI,CAAC,IAAI,CAACX,SAAS,EAAE;QACnB,IAAI,CAACH,MAAK,GAAI,8BAA8B;QAC5C;MACF;MAEA,MAAMe,MAAK,GAAI,IAAIC,UAAU,CAAC,CAAC;MAC/BD,MAAM,CAACE,SAAQ,GAAI,YAAY;QAC7B,IAAI;UACF,MAAMC,QAAO,GAAI,IAAIC,QAAQ,CAAC,CAAC;UAC/BD,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAEL,MAAM,CAACd,MAAM,CAAC;UAEvC,MAAMoB,QAAO,GAAI,MAAMC,KAAK,CAAC,wBAAwB,EAAE;YACrDC,MAAM,EAAE,MAAM;YACdC,IAAI,EAAEN;UACR,CAAC,CAAC;UAEF,IAAIG,QAAQ,CAACI,EAAE,EAAE;YACf,IAAI,CAACzB,MAAK,GAAI,0BAA0B;YACxC,MAAM0B,UAAS,GAAI,MAAML,QAAQ,CAACM,IAAI,CAAC,CAAC;YACxC,IAAI,CAAC1B,MAAK,GAAIyB,UAAU;YACxB,IAAI,CAACE,aAAa,CAAC,CAAC;UACtB,OAAO;YACL,IAAI,CAAC5B,MAAK,GAAI,wCAAwC;UACxD;QACF,EAAE,OAAO6B,KAAK,EAAE;UACdC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;UAC9C,IAAI,CAAC7B,MAAK,GAAI,wCAAwC;QACxD;MACF,CAAC;MACDe,MAAM,CAACgB,aAAa,CAAC,IAAI,CAAC5B,SAAS,CAAC;IACtC;IACA;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}