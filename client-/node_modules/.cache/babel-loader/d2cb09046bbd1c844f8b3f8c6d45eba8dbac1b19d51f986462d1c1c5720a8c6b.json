{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode } from \"vue\";\nconst _hoisted_1 = {\n  id: \"app\"\n};\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"header\", {\n  class: \"app-header\"\n}, [/*#__PURE__*/_createElementVNode(\"h1\", null, \"Facial Analysis\")], -1 /* HOISTED */);\nconst _hoisted_3 = {\n  class: \"button\"\n};\nconst _hoisted_4 = {\n  class: \"container\"\n};\nconst _hoisted_5 = {\n  class: \"left-section\"\n};\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"h2\", null, \"Upload Image\", -1 /* HOISTED */);\nconst _hoisted_7 = {\n  key: 0,\n  class: \"preview\"\n};\nconst _hoisted_8 = [\"src\"];\nconst _hoisted_9 = {\n  key: 0,\n  class: \"right-section\"\n};\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"h2\", null, \"Processed Image\", -1 /* HOISTED */);\nconst _hoisted_11 = {\n  key: 0\n};\nconst _hoisted_12 = [\"src\"];\nconst _hoisted_13 = /*#__PURE__*/_createElementVNode(\"div\", null, [/*#__PURE__*/_createElementVNode(\"footer\", {\n  class: \"app-footer\"\n}, [/*#__PURE__*/_createElementVNode(\"p\", null, [/*#__PURE__*/_createTextVNode(\"Powered by \"), /*#__PURE__*/_createElementVNode(\"a\", {\n  href: \"https://www.gadjoy.in/\"\n}, \"Gadjoy\")])])], -1 /* HOISTED */);\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.processImage && $options.processImage(...args))\n  }, \"Process Image\")]), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_hoisted_6, _createElementVNode(\"input\", {\n    type: \"file\",\n    onChange: _cache[1] || (_cache[1] = (...args) => $options.uploadImage && $options.uploadImage(...args)),\n    ref: \"fileInput\"\n  }, null, 544 /* NEED_HYDRATION, NEED_PATCH */), $data.imageUrl ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [_createElementVNode(\"img\", {\n    src: $data.imageUrl,\n    alt: \"Uploaded Image\"\n  }, null, 8 /* PROPS */, _hoisted_8)])) : _createCommentVNode(\"v-if\", true)]), $data.processedImage ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [_hoisted_10, $data.isLoading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_11, \"Loading...\")) : _createCommentVNode(\"v-if\", true), $data.processedImage ? (_openBlock(), _createElementBlock(\"img\", {\n    key: 1,\n    class: \"processedImage\",\n    src: $data.processedImage,\n    alt: \"Processed Image\"\n  }, null, 8 /* PROPS */, _hoisted_12)) : _createCommentVNode(\"v-if\", true)])) : _createCommentVNode(\"v-if\", true)]), _hoisted_13]);\n}","map":{"version":3,"names":["id","_createElementVNode","class","key","_createTextVNode","href","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","onClick","_cache","args","$options","processImage","_hoisted_4","_hoisted_5","_hoisted_6","type","onChange","uploadImage","ref","$data","imageUrl","_hoisted_7","src","alt","_hoisted_8","_createCommentVNode","processedImage","_hoisted_9","_hoisted_10","isLoading","_hoisted_11","_hoisted_12","_hoisted_13"],"sources":["/home/waseem/project/client-/src/components/ImageProcessor.vue"],"sourcesContent":["<template>\n    <div id=\"app\">\n      <header class=\"app-header\">\n        <h1>Facial Analysis</h1>\n      </header>\n      <div class=\"button\"><button @click=\"processImage\">Process Image</button></div> \n    <div class=\"container\">\n      <div class=\"left-section\">\n        <h2>Upload Image</h2>\n        <input type=\"file\" @change=\"uploadImage\" ref=\"fileInput\" />\n        \n        <div class=\"preview\" v-if=\"imageUrl\">\n          <img :src=\"imageUrl\" alt=\"Uploaded Image\">\n        </div>\n      </div>\n      \n      \n      <div class=\"right-section\" v-if=\"processedImage\">\n        <h2>Processed Image</h2>\n        <div v-if=\"isLoading\">Loading...</div>\n        <img class=\"processedImage\" v-if=\"processedImage\" :src=\"processedImage\" alt=\"Processed Image\" />\n      </div>\n    </div>\n    <div>\n      <footer class=\"app-footer\">\n        <p>Powered by <a href=\"https://www.gadjoy.in/\">Gadjoy</a></p>\n      </footer>\n    </div>\n  </div>\n  </template>\n  \n  <script>\n  import axios from 'axios';\n  \n  export default {\n    data() {\n      return {\n        imageUrl: null,\n        apiBaseUrl: 'http://127.0.0.1:5000', // Replace with your Flask API URL\n        isLoading: false,\n        processedImage: null,\n      };\n    },\n    methods: {\n      uploadImage(event) {\n        const file = event.target.files[0];\n  \n        if (file) {\n          const reader = new FileReader();\n          reader.onload = (e) => {\n            this.imageUrl = e.target.result; // Display preview \n          };\n          reader.readAsDataURL(file);\n        }\n      },\n      async processImage() {\n        if (!this.imageUrl) return;\n  \n        try {\n          const imageData = this.imageUrl.split(',')[1]; // Get base64 data (exclude header)\n          const response = await axios.post(`${this.apiBaseUrl}/process`, { image: imageData });\n  \n          if (response.status === 200) {\n            console.log(\"Image sent for processing successfully\");\n          } else {\n            console.error(\"Unexpected status code from /process:\", response.status);\n          }\n  \n          this.isLoading = true;\n          const getResponse = await axios.get(`${this.apiBaseUrl}/processed`);\n  \n          if (getResponse.data && getResponse.data.image) {\n            console.log(\"Processed image received successfully\");\n            this.processedImage = 'data:image/jpeg;base64,' + getResponse.data.image; // 'data:image/jpeg;base64,....\n  \n          } else {\n            console.error(\"Unexpected response from /processed:\", getResponse.data);\n          }\n  \n        } catch (error) {\n          console.error(\"Image processing error:\", error);\n          // Handle the error, e.g., display an error message\n        } finally {\n          this.isLoading = false;\n        }\n      }\n    },\n  };\n  </script>\n  \n  <style>\n  /* Add basic styling for layout */\n  .app-header {\n    text-align: center;\n  }\n  .container {\n    display: flex;\n  }\n  .left-section, .right-section {\n    width: 50%;\n    padding: 20px;\n    border: 1px solid #000;\n  \n  }\n  .preview img, .right-section img {\n    max-width: 100%;\n    border: 1px solid #000;\n  }\n  .app-footer {\n    text-align: center;\n    margin-top: 20px;\n  }\n  .button {\n    text-align: center;\n    margin-top: 20px;\n  }\n  .processedImage {\n    padding-top: 20px;\n    max-width: 100%;\n    /* border: 1px solid #000; */\n  }\n  </style>"],"mappings":";;EACSA,EAAE,EAAC;AAAK;gCACXC,mBAAA,CAES;EAFDC,KAAK,EAAC;AAAY,I,aACxBD,mBAAA,CAAwB,YAApB,iBAAe,E;;EAEhBC,KAAK,EAAC;AAAQ;;EAChBA,KAAK,EAAC;AAAW;;EACfA,KAAK,EAAC;AAAc;gCACvBD,mBAAA,CAAqB,YAAjB,cAAY;;EARxBE,GAAA;EAWaD,KAAK,EAAC;;mBAXnB;;EAAAC,GAAA;EAiBWD,KAAK,EAAC;;iCACTD,mBAAA,CAAwB,YAApB,iBAAe;;EAlB3BE,GAAA;AAAA;oBAAA;iCAuBIF,mBAAA,CAIM,c,aAHJA,mBAAA,CAES;EAFDC,KAAK,EAAC;AAAY,I,aACxBD,mBAAA,CAA6D,Y,aAzBrEG,gBAAA,CAyBW,aAAW,G,aAAAH,mBAAA,CAA2C;EAAxCI,IAAI,EAAC;AAAwB,GAAC,QAAM,E;;uBAxBzDC,mBAAA,CA2BI,OA3BJC,UA2BI,GA1BFC,UAES,EACTP,mBAAA,CAA8E,OAA9EQ,UAA8E,GAA1DR,mBAAA,CAAoD;IAA3CS,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAC,YAAA,IAAAD,QAAA,CAAAC,YAAA,IAAAF,IAAA,CAAY;KAAE,eAAa,E,GACjEX,mBAAA,CAgBM,OAhBNc,UAgBM,GAfJd,mBAAA,CAOM,OAPNe,UAOM,GANJC,UAAqB,EACrBhB,mBAAA,CAA2D;IAApDiB,IAAI,EAAC,MAAM;IAAEC,QAAM,EAAAR,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAO,WAAA,IAAAP,QAAA,CAAAO,WAAA,IAAAR,IAAA,CAAW;IAAES,GAAG,EAAC;kDAElBC,KAAA,CAAAC,QAAQ,I,cAAnCjB,mBAAA,CAEM,OAFNkB,UAEM,GADJvB,mBAAA,CAA0C;IAApCwB,GAAG,EAAEH,KAAA,CAAAC,QAAQ;IAAEG,GAAG,EAAC;0BAZnCC,UAAA,E,KAAAC,mBAAA,e,GAiBuCN,KAAA,CAAAO,cAAc,I,cAA/CvB,mBAAA,CAIM,OAJNwB,UAIM,GAHJC,WAAwB,EACbT,KAAA,CAAAU,SAAS,I,cAApB1B,mBAAA,CAAsC,OAnB9C2B,WAAA,EAmB8B,YAAU,KAnBxCL,mBAAA,gBAoB0CN,KAAA,CAAAO,cAAc,I,cAAhDvB,mBAAA,CAAgG;IApBxGH,GAAA;IAoBaD,KAAK,EAAC,gBAAgB;IAAwBuB,GAAG,EAAEH,KAAA,CAAAO,cAAc;IAAEH,GAAG,EAAC;0BApBpFQ,WAAA,KAAAN,mBAAA,e,KAAAA,mBAAA,e,GAuBIO,WAIM,C"},"metadata":{},"sourceType":"module","externalDependencies":[]}